var $=Object.defineProperty;var E=e=>{throw TypeError(e)};var L=(e,t,s)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var f=(e,t,s)=>L(e,typeof t!="symbol"?t+"":t,s),v=(e,t,s)=>t.has(e)||E("Cannot "+s);var o=(e,t,s)=>(v(e,t,"read from private field"),s?s.call(e):t.get(e)),c=(e,t,s)=>t.has(e)?E("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),h=(e,t,s,r)=>(v(e,t,"write to private field"),r?r.call(e,s):t.set(e,s),s),m=(e,t,s)=>(v(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const w of a.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&r(w)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();const R=["xmas","nye","cny"],P=Object.freeze([{name:"Cow Scarer",description:"Scare the cow into producing 10 gallons per second",cost:50,effect:{type:"INCREMENT",value:10}},{name:"Farmer Fred",description:"Multiply the milking speed by a small amount.",cost:720,effect:{type:"SPEED",value:1.05}},{name:"Herd of Cows",description:"Introduce 10 additional cows",cost:9e3,effect:{type:"INCREMENT",value:100}},{name:"Locked",description:"???",cost:1e5,effect:{type:"UNKNOWN",value:0}}]),F=17500,B="MOOooOOOoO00oOO0ooo00oOOO0Oooo0OO0OO",S=6,I=Number(new URLSearchParams(window.location.search).get("p")||void 0),O=new URLSearchParams(window.location.search).get("t"),D=Array.from({length:S},(e,t)=>new Audio(y(U(`sfx-${t}`)))),k=new Audio(y(U("bgm")));k.loop=!0;const b=new Audio(y("moo"));var u,d,g,l,M,i,p,T;class q{constructor(){c(this,i);c(this,u);c(this,d);c(this,g,1e3);f(this,"intervalMultiplier",1);f(this,"totalIncrement",0);c(this,l,[]);c(this,M,null);f(this,"state",{count:0,ownedUpgrades:{},instructions:!0,created:!1});h(this,d,[])}startInterval(){o(this,M)&&clearInterval(o(this,M)),h(this,M,setInterval(()=>{this.increment(this.totalIncrement),o(this,l).length>0&&m(this,i,T).call(this)},Math.max(o(this,g)/this.intervalMultiplier,33)))}subscribe(t){o(this,d).push(t)}increment(t=1){this.state.count+=t,m(this,i,p).call(this)}purchaseUpgrade(t){const s=P[t],r=H(s.cost,this.state.ownedUpgrades[t]);return this.state.count>=r?(this.state.count-=r,this.state.ownedUpgrades[t]=(this.state.ownedUpgrades[t]??0)+1,o(this,l).push(s),m(this,i,p).call(this),!0):!1}animateCount(t){const s=parseInt(t.textContent,10);if(s){o(this,u)&&clearInterval(o(this,u));const r=Math.ceil((this.state.count-s)/25);let n=s;h(this,u,setInterval(()=>{n+=r,n>=this.state.count&&(n=this.state.count,clearInterval(o(this,u))),requestAnimationFrame(()=>{t.textContent=String(n)})},10))}else requestAnimationFrame(()=>{t.textContent=String(this.state.count)})}setCreated(){this.state.created=!0}init(){m(this,i,p).call(this),this.startInterval()}get count(){return this.state.count}get ownedUpgrades(){return this.state.ownedUpgrades}set setMultiplier(t){this.intervalMultiplier+=t}set setInstructionsHidden(t){t.setAttribute("hidden",""),this.state.instructions=!1}}u=new WeakMap,d=new WeakMap,g=new WeakMap,l=new WeakMap,M=new WeakMap,i=new WeakSet,p=function(){o(this,d).forEach(t=>t(this.state))},T=function(){let t=0,s=1;o(this,l).forEach(r=>{switch(r.effect.type){case"INCREMENT":t+=r.effect.value;break;case"SPEED":s*=r.effect.value;break}}),this.totalIncrement+=t,this.intervalMultiplier*=s,this.startInterval(),h(this,l,[])};const N=new q;function H(e,t=0){return Math.ceil(e+t*e/10)}function G({cost:e,description:t,name:s},r){const n=document.createElement("button");return n.classList.add("upgrade"),n.id=`upgrade-${r}`,n.innerHTML=`
		<div class="upgrade-image">
			<img height="64" width="64" src="${x(`upgrade-${r}`)}" />
			<div class="upgrade-owned">0</div>
		</div>
		<div class="upgrade-info">
			<div class="upgrade-title">${s}</div>
			<div class="upgrade-description">${t}</div>
		</div>
		<div class="upgrade-cost">${e}</div>
	`,n.addEventListener("pointerdown",()=>{if(N.purchaseUpgrade(r)){const a=Math.random()+.75;b.currentTime=0,b.playbackRate=a,b.play()}}),n}function K(e){N.increment();const t=e.currentTarget,s=D[Math.floor(Math.random()*S)],r=Math.random()*1.5+.5,n=Math.random()*540-270;s.currentTime=0,s.playbackRate=r,s.play(),requestAnimationFrame(()=>{t.style.transform=`rotate(${n}deg)`}),setTimeout(()=>{requestAnimationFrame(()=>{t.style.transform="rotate(0deg)"})},50)}function A(){window.open("oops.html","","alwaysRaised=yes, height=300, menubar=no, resizable=no, status=no, titlebar=no, toolbar=no, width=300")}function C(){const e=document.createElement("img");e.src="content/images/360.gif",e.style.position="absolute",e.style.zIndex="10000",e.style.inset="0",e.style.height=`${Math.random()*100}%`,e.style.width=`${Math.random()*100}%`,e.style.left=`${Math.random()*80}%`,e.style.top=`${Math.random()*80}%`,document.body.append(e)}function W(){A(),C(),setInterval(C,250)}function Q(){new Audio(y("special")).play()}function J(e){switch(e.key){case"Control":case"Alt":case"Delete":case"Shift":case"Tab":case" ":case"w":case"W":case"F4":case"Escape":A(),alert("MMMmmmmm mmm000000oo oOOOO");break}alert("MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMoo")}function x(e){return`content/images/${e}.png`}function y(e){return`content/sound/${e}.mp3`}function _(e){return!!R.includes(e)}function V(){return isNaN(I)?F:I}function z(){return _(O)?O:null}function U(e){return z()?`${e}-${O}`:e}export{B as S,P as U,J as a,Q as b,H as c,V as d,G as e,K as f,N as g,z as h,x as i,U as j,k as m,A as o,W as t};
