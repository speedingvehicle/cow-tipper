var P=Object.defineProperty;var E=e=>{throw TypeError(e)};var F=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var p=(e,t,n)=>F(e,typeof t!="symbol"?t+"":t,n),v=(e,t,n)=>t.has(e)||E("Cannot "+n);var a=(e,t,n)=>(v(e,t,"read from private field"),n?n.call(e):t.get(e)),c=(e,t,n)=>t.has(e)?E("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),m=(e,t,n,o)=>(v(e,t,"write to private field"),o?o.call(e,n):t.set(e,n),n),h=(e,t,n)=>(v(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const w of r.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&o(w)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();const k=["xmas","nye","cny"],D=Object.freeze([{name:"Cow Scarer",description:"Scare the cow into producing 10 gallons per second",cost:50,effect:{type:"INCREMENT",value:10}},{name:"Farmer Fred",description:"Multiply the milking speed by a small amount.",cost:720,effect:{type:"SPEED",value:1.05}},{name:"Herd of Cows",description:"Introduce 10 additional cows",cost:9e3,effect:{type:"INCREMENT",value:100}},{name:"Locked",description:"???",cost:1e5,effect:{type:"INCREMENT",value:1e4}}]),x=17500,V="MOOooOOOoO00oOO0ooo00oOOO0Oooo0OO0OO",C=6,O=Number(new URLSearchParams(window.location.search).get("p")||void 0),S=new URLSearchParams(window.location.search).get("t"),H=Array.from({length:C},(e,t)=>new Audio(y(A(`sfx-${t}`)))),B=new Audio(y(A("bgm")));B.loop=!0;const b=new Audio(y("moo"));var u,d,g,l,M,i,f,T;class _{constructor(){c(this,i);c(this,u);c(this,d);c(this,g,1e3);p(this,"intervalMultiplier",1);p(this,"totalIncrement",0);c(this,l,[]);c(this,M,null);p(this,"state",{count:0,ownedUpgrades:{},instructions:!0,created:!1});m(this,d,[])}startInterval(){a(this,M)&&clearInterval(a(this,M)),m(this,M,setInterval(()=>{this.increment(this.totalIncrement),a(this,l).length>0&&h(this,i,T).call(this)},Math.max(a(this,g)/this.intervalMultiplier,33)))}subscribe(t){a(this,d).push(t)}increment(t=1){this.state.count+=t,this.state.count>0&&this.state.count<5&&(W.style.opacity="0"),h(this,i,f).call(this)}purchaseUpgrade(t){const n=D[t],o=z(n.cost,this.state.ownedUpgrades[t]);return this.state.count>=o?(this.state.count-=o,this.state.ownedUpgrades[t]=(this.state.ownedUpgrades[t]??0)+1,a(this,l).push(n),h(this,i,f).call(this),!0):!1}animateCount(t){const n=parseInt(t.textContent,10);if(n){a(this,u)&&clearInterval(a(this,u));const o=Math.ceil((this.state.count-n)/25);let s=n;m(this,u,setInterval(()=>{s+=o,s>=this.state.count&&(s=this.state.count,clearInterval(a(this,u))),requestAnimationFrame(()=>{t.textContent=String(s)})},10))}else requestAnimationFrame(()=>{t.textContent=String(this.state.count)})}setCreated(){this.state.created=!0}init(){h(this,i,f).call(this),this.startInterval()}get count(){return this.state.count}get ownedUpgrades(){return this.state.ownedUpgrades}set setMultiplier(t){this.intervalMultiplier+=t}set setInstructionsHidden(t){t.setAttribute("hidden",""),this.state.instructions=!1}}u=new WeakMap,d=new WeakMap,g=new WeakMap,l=new WeakMap,M=new WeakMap,i=new WeakSet,f=function(){a(this,d).forEach(t=>t(this.state))},T=function(){let t=0,n=1;a(this,l).forEach(o=>{switch(o.effect.type){case"INCREMENT":t+=o.effect.value;break;case"SPEED":n*=o.effect.value;break}}),this.totalIncrement+=t,this.intervalMultiplier*=n,this.startInterval(),m(this,l,[])};const L=new _;function z(e,t=0){return Math.ceil(e+t*e/10)}function X({cost:e,description:t,name:n},o){const s=document.createElement("button");return s.classList.add("upgrade"),s.id=`upgrade-${o}`,s.innerHTML=`
		<div class="upgrade-image">
			<img height="64" width="64" src="${j(`upgrade-${o}`)}" />
			<div class="upgrade-owned">0</div>
		</div>
		<div class="upgrade-info">
			<div class="upgrade-title">${n}</div>
			<div class="upgrade-description">${t}</div>
		</div>
		<div class="upgrade-cost">${e}</div>
	`,s.addEventListener("pointerdown",()=>{if(L.purchaseUpgrade(o)){const r=Math.random()+.75;b.currentTime=0,b.playbackRate=r,b.play()}}),s}function Y(e){L.increment();const t=e.currentTarget,n=H[Math.floor(Math.random()*C)],o=Math.random()*1.5+.5,s=Math.random()*540-270;n.currentTime=0,n.playbackRate=o,n.play(),requestAnimationFrame(()=>{t.style.transform=`rotate(${s}deg)`}),setTimeout(()=>{requestAnimationFrame(()=>{t.style.transform="rotate(0deg)"})},50)}function $(){window.open("oops.html","","alwaysRaised=yes, height=300, menubar=no, resizable=no, status=no, titlebar=no, toolbar=no, width=300")}function I(){const e=document.createElement("img");e.src="content/images/360.gif",e.style.position="absolute",e.style.zIndex="10000",e.style.inset="0",e.style.height=`${Math.random()*100}%`,e.style.width=`${Math.random()*100}%`,e.style.left=`${Math.random()*80}%`,e.style.top=`${Math.random()*80}%`,document.body.append(e)}function Z(){$(),I(),setInterval(I,250)}function tt(){new Audio(y("special")).play()}function et(e){switch(e.key){case"Control":case"Alt":case"Delete":case"Shift":case"Tab":case" ":case"w":case"W":case"F4":case"Escape":$(),alert("MMMmmmmm mmm000000oo oOOOO");break}alert("MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMoo")}function j(e){return`content/images/${e}.png`}function G(e){return`content/images/${e}.gif`}function y(e){return`content/sound/${e}.mp3`}function K(e){return!!k.includes(e)}function nt(){return isNaN(O)?x:O}function Q(){return K(S)?S:null}function A(e){return Q()?`${e}-${S}`:e}const N=document.createElement("div");N.classList.add("loading");const U=document.createElement("div");U.innerText="Loading...";const q=document.createElement("img");q.src=G("loading");const R=document.createElement("button");R.classList.add("loading-button");R.innerText="Play";N.append(U,q);const W=document.querySelector(".click-me"),st=document.querySelector(".count-value"),ot=document.querySelector("#count-unit"),rt=document.querySelector(".cow"),at=document.querySelector("#cow-image"),it=document.querySelector(".instructions"),ct=document.querySelector(".upgrade-container");export{V as S,D as U,et as a,tt as b,st as c,z as d,nt as e,at as f,L as g,j as h,it as i,ot as j,R as k,N as l,B as m,X as n,rt as o,Y as p,Q as q,A as r,$ as s,Z as t,ct as u};
