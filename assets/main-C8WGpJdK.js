import{g as n,T as p,t as f,a as u,b as g,S,U as l,m as y,c as w,d as h}from"./util-4U3fzOFx.js";const o=document.createElement("div");o.classList.add("loading");const b=document.createElement("div");b.innerText="Loading...";const m=document.createElement("img");m.src="assets/images/loading.gif";const r=document.createElement("button");r.classList.add("loading-button");r.innerText="Play";o.append(b,m);const E=document.querySelector(".count-value"),T=document.querySelector(".cow"),v=document.querySelector(".instructions"),A=document.querySelector(".upgrade-container");function L(e){e.instructions&&e.count>25&&n.setInstructionsHidden(v)}function C(e){e.count>p&&!e.created&&(n.setCreated(),window.onclick=f,window.onkeydown=u,document.addEventListener("click",g),document.addEventListener("keydown",u),document.title=S,document.body.style.cursor="none",document.body.style.filter="invert()")}function I(){n.animateDisplay(E)}function q(e){e.count>0&&(document.title=`Cow Tipper - ${e.count} gallons`)}function x(e){l.forEach(({cost:c},i)=>{const t=document.querySelector(`#upgrade-${i}`);if(t){const s=n.count>c,a=t.querySelector(".upgrade-owned"),d=e.ownedUpgrades[i]??0;s&&t.hasAttribute("aria-disabled")?(t.removeAttribute("aria-disabled"),t.setAttribute("tabIndex","0")):!s&&!t.hasAttribute("aria-disabled")&&(t.setAttribute("aria-disabled",""),t.setAttribute("tabIndex","-1")),d&&(t.hasAttribute("data-owned")||t.setAttribute("data-owned",""),parseInt(a.textContent)!==d&&(a.textContent=String(d)))}})}const D=Object.freeze(Object.defineProperty({__proto__:null,hideInstructionsSubscriber:L,thresholdSubscriber:C,updateCountDisplaySubscriber:I,updateTitleSubscriber:q,updateUpgradeButtonsSubscriber:x},Symbol.toStringTag,{value:"Module"}));setTimeout(()=>{document.body.insertAdjacentElement("afterbegin",o),r.addEventListener("pointerdown",()=>{o.remove(),y.play(),n.init()})},100);setTimeout(()=>{o.append(r)},1e3*1.9);setTimeout(()=>{l.map((e,c)=>{const i=w(e,c);A.appendChild(i)})},125);Object.values(D).forEach(e=>{n.subscribe(e)});T.addEventListener("pointerdown",h);
