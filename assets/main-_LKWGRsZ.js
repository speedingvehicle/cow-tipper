import{g as n,t as w,a as m,b as h,S as v,U as g,c as E,q as b,T as p,d as C,i as T,m as A,e as O,f as q}from"./util-DZm1zdjl.js";const c=document.createElement("div");c.classList.add("loading");const f=document.createElement("div");f.innerText="Loading...";const y=document.createElement("img");y.src="content/images/loading.gif";const s=document.createElement("button");s.classList.add("loading-button");s.innerText="Play";c.append(f,y);const x=document.querySelector(".count-value"),L=document.querySelector("#count-unit"),I=document.querySelector(".cow"),k=document.querySelector("#cow-image"),a=document.querySelector(".instructions"),U=document.querySelector(".upgrade-container");function B(e){e.instructions&&e.count>25&&(n.setInstructionsHidden=a)}function D(e){const o=isNaN(b)?p:b??p;e.count>o&&!e.created&&(n.setCreated(),window.onclick=w,window.onkeydown=m,document.addEventListener("click",h),document.addEventListener("keydown",m),document.addEventListener("pointerdown",()=>{n.setMultiplier=20,n.startInterval(),document.title=v,document.body.style.backgroundColor="#000",document.body.style.cursor="none",document.body.style.filter="invert()",document.body.style.overflow="hidden",window.onbeforeunload=()=>confirm("MMmmoooooo oooOOo oOOOoOOo")}))}function _(){n.animateCount(x)}function j(e){e.count>0&&(document.title=`Cow Tipper - ${e.count} gallons`)}function M(e){g.forEach((o,r)=>{const t=document.querySelector(`#upgrade-${r}`);if(t){const d=t.querySelector(".upgrade-owned"),S=t.querySelector(".upgrade-cost"),u=E(o.cost,e.ownedUpgrades[r]),l=n.count>=u,i=e.ownedUpgrades[r]??0;l&&t.hasAttribute("aria-disabled")?(t.removeAttribute("aria-disabled"),t.setAttribute("tabIndex","0")):!l&&!t.hasAttribute("aria-disabled")&&(t.setAttribute("aria-disabled",""),t.setAttribute("tabIndex","-1")),i&&(t.hasAttribute("data-owned")||t.setAttribute("data-owned",""),parseInt(d.textContent)!==i&&(d.textContent=String(i))),S.textContent=String(u)}})}const P=Object.freeze(Object.defineProperty({__proto__:null,hideInstructionsSubscriber:B,thresholdSubscriber:D,updateCountDisplaySubscriber:_,updateTitleSubscriber:j,updateUpgradeButtonsSubscriber:M},Symbol.toStringTag,{value:"Module"}));switch(C){case"xmas":k.src=T("cow-xmas"),a.textContent=`${a.innerText} and have a merry`,L.textContent="festive gallons";break}setTimeout(()=>{document.body.insertAdjacentElement("afterbegin",c),s.addEventListener("pointerdown",()=>{c.remove(),A.play(),n.init()})},100);setTimeout(()=>{c.append(s)},1e3*1.9);setTimeout(()=>{g.map((e,o)=>{const r=O(e,o);U.appendChild(r)})},125);Object.values(P).forEach(e=>{n.subscribe(e)});I.addEventListener("pointerdown",q);
