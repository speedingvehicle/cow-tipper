import{g as n,T as f,t as S,a as l,b as w,S as y,U as b,c as E,m as h,d as v,e as T}from"./game-BTzVPYlJ.js";const r=document.createElement("div");r.classList.add("loading");const m=document.createElement("div");m.innerText="Loading...";const p=document.createElement("img");p.src="assets/images/loading.gif";const i=document.createElement("button");i.classList.add("loading-button");i.innerText="Play";r.append(m,p);const A=document.querySelector(".count-value"),C=document.querySelector(".cow"),O=document.querySelector(".instructions"),L=document.querySelector(".upgrade-container");function q(e){e.instructions&&e.count>25&&(n.setInstructionsHidden=O)}function I(e){e.count>f&&!e.created&&(n.setCreated(),n.setMultiplier=10,window.onclick=S,window.onkeydown=l,document.addEventListener("click",w),document.addEventListener("keydown",l),document.addEventListener("pointerdown",()=>{document.title=y,document.body.style.cursor="none",document.body.style.filter="invert()",window.onbeforeunload=()=>confirm("MMmmoooooo oooOOo oOOOoOOo")}))}function x(){n.animateCount(A)}function k(e){e.count>0&&(document.title=`Cow Tipper - ${e.count} gallons`)}function B(e){b.forEach((c,o)=>{const t=document.querySelector(`#upgrade-${o}`);if(t){const d=t.querySelector(".upgrade-owned"),g=t.querySelector(".upgrade-cost"),a=E(c.cost,e.ownedUpgrades[o]),u=n.count>=a,s=e.ownedUpgrades[o]??0;u&&t.hasAttribute("aria-disabled")?(t.removeAttribute("aria-disabled"),t.setAttribute("tabIndex","0")):!u&&!t.hasAttribute("aria-disabled")&&(t.setAttribute("aria-disabled",""),t.setAttribute("tabIndex","-1")),s&&(t.hasAttribute("data-owned")||t.setAttribute("data-owned",""),parseInt(d.textContent)!==s&&(d.textContent=String(s))),g.textContent=String(a)}})}const D=Object.freeze(Object.defineProperty({__proto__:null,hideInstructionsSubscriber:q,thresholdSubscriber:I,updateCountDisplaySubscriber:x,updateTitleSubscriber:k,updateUpgradeButtonsSubscriber:B},Symbol.toStringTag,{value:"Module"}));setTimeout(()=>{document.body.insertAdjacentElement("afterbegin",r),i.addEventListener("pointerdown",()=>{r.remove(),h.play(),n.init()})},100);setTimeout(()=>{r.append(i)},1e3*1.9);setTimeout(()=>{b.map((e,c)=>{const o=v(e,c);L.appendChild(o)})},125);Object.values(D).forEach(e=>{n.subscribe(e)});C.addEventListener("pointerdown",T);
