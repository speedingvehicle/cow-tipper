import{g as n,i as s,t as h,a as l,b as y,S as g,c as S,U as p,d as C,e as v,f as T,h as A,j as b,l as i,k as f,m as E,n as O,u as k,o as L,p as I,q as x,r as M}from"./elements-CADtVvA_.js";function U(e){e.instructions&&e.count>25&&(n.setInstructionsHidden=s)}function j(e){const o=v();e.count>o&&!e.created&&(n.setCreated(),window.onclick=h,window.onkeydown=l,document.addEventListener("click",y),document.addEventListener("keydown",l),document.addEventListener("pointerdown",()=>{n.setMultiplier=20,n.startInterval(),document.title=g,document.body.style.backgroundColor="#000",document.body.style.cursor="none",document.body.style.filter="invert()",document.body.style.overflow="hidden",window.onbeforeunload=()=>confirm("MMmmoooooo oooOOo oOOOoOOo")}))}function _(){n.animateCount(S)}function q(e){e.count>0&&(document.title=`Cow Tipper - ${e.count} gallons`)}function B(e){p.forEach((o,r)=>{const t=document.querySelector(`#upgrade-${r}`);if(t){const c=t.querySelector(".upgrade-owned"),w=t.querySelector(".upgrade-cost"),d=C(o.cost,e.ownedUpgrades[r]),u=n.count>=d,a=e.ownedUpgrades[r]??0;u&&t.hasAttribute("aria-disabled")?(t.removeAttribute("aria-disabled"),t.setAttribute("tabIndex","0")):!u&&!t.hasAttribute("aria-disabled")&&(t.setAttribute("aria-disabled",""),t.setAttribute("tabIndex","-1")),a&&(t.hasAttribute("data-owned")||t.setAttribute("data-owned",""),parseInt(c.textContent)!==a&&(c.textContent=String(a))),w.textContent=String(d)}})}const D=Object.freeze(Object.defineProperty({__proto__:null,hideInstructionsSubscriber:U,thresholdSubscriber:j,updateCountDisplaySubscriber:_,updateTitleSubscriber:q,updateUpgradeButtonsSubscriber:B},Symbol.toStringTag,{value:"Module"})),m=x();if(m)switch(T.src=A(M("cow")),m){case"xmas":s.innerHTML=`${s.innerHTML}<br />and have a merry`,b.textContent="festive gallons";break;case"nye":s.innerHTML="click cow and new<br />year celebration";break;case"cny":s.textContent="点击奶牛即可挤奶。<br/>使用您累积的牛奶量购买升级。",b.textContent="加仑"}setTimeout(()=>{document.body.insertAdjacentElement("afterbegin",i),f.addEventListener("pointerdown",()=>{i.remove(),E.play(),n.init()})},100);setTimeout(()=>{i.append(f)},1e3*1.9);setTimeout(()=>{p.map((e,o)=>{const r=O(e,o);k.appendChild(r)})},125);Object.values(D).forEach(e=>{n.subscribe(e)});L.addEventListener("pointerdown",I);
