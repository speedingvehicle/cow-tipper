import{g as n,i as o,t as y,a as b,b as g,S,c as C,U as p,d as v,e as k,f as E,h as T,j as i,l as c,k as w,m as A,n as L,u as O,o as x,p as f,q as I,r as M}from"./elements-DJE4Ybw_.js";function U(e){e.instructions&&e.count>25&&(n.setInstructionsHidden=o)}function j(e){const r=k();e.count>r&&!e.created&&(n.setCreated(),window.onclick=y,window.onkeydown=b,document.addEventListener("click",g),document.addEventListener("keydown",b),document.addEventListener("pointerdown",()=>{n.setMultiplier=20,n.startInterval(),document.title=S,document.body.style.backgroundColor="#000",document.body.style.cursor="none",document.body.style.filter="invert()",document.body.style.overflow="hidden",window.onbeforeunload=()=>confirm("MMmmoooooo oooOOo oOOOoOOo")}))}function _(){n.animateCount(C)}function q(e){e.count>0&&(document.title=`Cow Tipper - ${e.count} gallons`)}function B(e){p.forEach((r,s)=>{const t=document.querySelector(`#upgrade-${s}`);if(t){const d=t.querySelector(".upgrade-owned"),h=t.querySelector(".upgrade-cost"),u=v(r.cost,e.ownedUpgrades[s]),l=n.count>=u,a=e.ownedUpgrades[s]??0;l&&t.hasAttribute("aria-disabled")?(t.removeAttribute("aria-disabled"),t.setAttribute("tabIndex","0")):!l&&!t.hasAttribute("aria-disabled")&&(t.setAttribute("aria-disabled",""),t.setAttribute("tabIndex","-1")),a&&(t.hasAttribute("data-owned")||t.setAttribute("data-owned",""),parseInt(d.textContent)!==a&&(d.textContent=String(a))),h.textContent=String(u)}})}const D=Object.freeze(Object.defineProperty({__proto__:null,hideInstructionsSubscriber:U,thresholdSubscriber:j,updateCountDisplaySubscriber:_,updateTitleSubscriber:q,updateUpgradeButtonsSubscriber:B},Symbol.toStringTag,{value:"Module"})),m=I();if(m)switch(E.src=T(M("cow")),m){case"xmas":o.innerHTML=`${o.innerHTML}<br />and have a merry`,i.textContent="festive gallons";break;case"nye":o.innerHTML="click cow and new<br />year celebration";break;case"cny":o.textContent="点击奶牛即可挤奶。<br/>使用您累积的牛奶量购买升级。",i.textContent="加仑";break;case"halloween":o.textContent="cow hurty",i.textContent="scary gallons"}setTimeout(()=>{document.body.insertAdjacentElement("afterbegin",c),w.addEventListener("click",()=>{c.remove(),A.play(),n.init()})},100);setTimeout(()=>{c.append(w)},1e3*1.9);setTimeout(()=>{p.map((e,r)=>{const s=L(e,r);O.appendChild(s)})},125);Object.values(D).forEach(e=>{n.subscribe(e)});x.addEventListener("pointerdown",f);window.addEventListener("keydown",e=>{e.key==="p"&&f()});
