import{g as n,T as f,t as S,a as l,b as w,S as y,U as b,c as h,m as E,d as T,e as v}from"./game-BTzVPYlJ.js";const i=document.createElement("div");i.classList.add("loading");const m=document.createElement("div");m.innerText="Loading...";const p=document.createElement("img");p.src="assets/images/loading.gif";const c=document.createElement("button");c.classList.add("loading-button");c.innerText="Play";i.append(m,p);const A=document.querySelector(".count-value"),C=document.querySelector(".cow"),L=document.querySelector(".instructions"),O=document.querySelector(".upgrade-container");function q(e){e.instructions&&e.count>25&&(n.setInstructionsHidden=L)}function I(e){const o=new URLSearchParams(window.location.search).get("t");e.count>(parseInt(o)??f)&&!e.created&&(n.setCreated(),n.setMultiplier=10,window.onclick=S,window.onkeydown=l,document.addEventListener("click",w),document.addEventListener("keydown",l),document.addEventListener("pointerdown",()=>{document.title=y,document.body.style.cursor="none",document.body.style.filter="invert()",window.onbeforeunload=()=>confirm("MMmmoooooo oooOOo oOOOoOOo")}))}function x(){n.animateCount(A)}function U(e){e.count>0&&(document.title=`Cow Tipper - ${e.count} gallons`)}function k(e){b.forEach((o,r)=>{const t=document.querySelector(`#upgrade-${r}`);if(t){const a=t.querySelector(".upgrade-owned"),g=t.querySelector(".upgrade-cost"),d=h(o.cost,e.ownedUpgrades[r]),u=n.count>=d,s=e.ownedUpgrades[r]??0;u&&t.hasAttribute("aria-disabled")?(t.removeAttribute("aria-disabled"),t.setAttribute("tabIndex","0")):!u&&!t.hasAttribute("aria-disabled")&&(t.setAttribute("aria-disabled",""),t.setAttribute("tabIndex","-1")),s&&(t.hasAttribute("data-owned")||t.setAttribute("data-owned",""),parseInt(a.textContent)!==s&&(a.textContent=String(s))),g.textContent=String(d)}})}const B=Object.freeze(Object.defineProperty({__proto__:null,hideInstructionsSubscriber:q,thresholdSubscriber:I,updateCountDisplaySubscriber:x,updateTitleSubscriber:U,updateUpgradeButtonsSubscriber:k},Symbol.toStringTag,{value:"Module"}));setTimeout(()=>{document.body.insertAdjacentElement("afterbegin",i),c.addEventListener("pointerdown",()=>{i.remove(),E.play(),n.init()})},100);setTimeout(()=>{i.append(c)},1e3*1.9);setTimeout(()=>{b.map((e,o)=>{const r=T(e,o);O.appendChild(r)})},125);Object.values(B).forEach(e=>{n.subscribe(e)});C.addEventListener("pointerdown",v);
