var S=Object.defineProperty;var E=e=>{throw TypeError(e)};var T=(e,t,s)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var g=(e,t,s)=>T(e,typeof t!="symbol"?t+"":t,s),w=(e,t,s)=>t.has(e)||E("Cannot "+s);var r=(e,t,s)=>(w(e,t,"read from private field"),s?s.call(e):t.get(e)),c=(e,t,s)=>t.has(e)?E("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,s),h=(e,t,s,a)=>(w(e,t,"write to private field"),a?a.call(e,s):t.set(e,s),s),l=(e,t,s)=>(w(e,t,"access private method"),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const v of o.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&a(v)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const L=Object.freeze([{name:"Cow Scarer",description:"Scare the cow into producing 10 gallons per second",cost:50,effect:{type:"INCREMENT",value:10}},{name:"Farmer Fred",description:"Multiply the milking speed by 1/10.",cost:1e3,effect:{type:"SPEED",value:1.1}},{name:"Herd of Cows",description:"Introduce 10 additional cows",cost:15e3,effect:{type:"INCREMENT",value:100}},{name:"Locked",description:"???",cost:1e5,effect:{type:"UNKNOWN",value:0}}]),D=22e3,F="MOOooOOOoO00oOO0ooo00oOOO0Oooo0OO0OO";var u,p,f,d,m,i,y,O,C;class N{constructor(){c(this,i);c(this,u);c(this,p);g(this,"intervalDuration",1e3);g(this,"intervalMultiplier",1);c(this,f,0);c(this,d,[]);c(this,m,null);g(this,"state",{count:0,ownedUpgrades:{},instructions:!0,created:!1});h(this,p,[])}subscribe(t){r(this,p).push(t)}increment(t=1){this.state.count+=t,l(this,i,y).call(this)}purchaseUpgrade(t){const s=L[t];return this.state.count>=s.cost?(this.state.count-=s.cost,this.state.ownedUpgrades[t]=(this.state.ownedUpgrades[t]??0)+1,r(this,d).push(s),l(this,i,y).call(this),!0):!1}animateDisplay(t){const s=parseInt(t.textContent,10);if(s){r(this,u)&&clearInterval(r(this,u));const a=Math.ceil((this.state.count-s)/25);let n=s;h(this,u,setInterval(()=>{n+=a,n>=this.state.count&&(n=this.state.count,clearInterval(r(this,u))),requestAnimationFrame(()=>{t.textContent=String(n)})},10))}else requestAnimationFrame(()=>{t.textContent=String(this.state.count)})}setInstructionsHidden(t){t.setAttribute("hidden",""),this.state.instructions=!1}setCreated(){this.state.created=!0}init(){l(this,i,y).call(this),l(this,i,O).call(this)}get count(){return this.state.count}get ownedUpgrades(){return this.state.ownedUpgrades}}u=new WeakMap,p=new WeakMap,f=new WeakMap,d=new WeakMap,m=new WeakMap,i=new WeakSet,y=function(){r(this,p).forEach(t=>t(this.state))},O=function(){r(this,m)&&clearInterval(r(this,m)),h(this,m,setInterval(()=>{this.increment(r(this,f)),r(this,d).length>0&&l(this,i,C).call(this)},Math.max(this.intervalDuration/this.intervalMultiplier,33)))},C=function(){let t=0,s=1;r(this,d).forEach(a=>{a.effect.type==="INCREMENT"&&(t+=a.effect.value),a.effect.type==="SPEED"&&(s*=a.effect.value)}),h(this,f,r(this,f)+t),this.intervalMultiplier*=s,l(this,i,O).call(this),h(this,d,[])};const A=new N,R=Array.from({length:11},(e,t)=>new Audio(`assets/sound/sfx-${t}.mp3`)),U=new Audio("assets/sound/bgm.mp3");U.loop=!0;const b=new Audio("assets/sound/moo.mp3");function P({cost:e,description:t,name:s},a){const n=document.createElement("button");return n.classList.add("upgrade"),n.id=`upgrade-${a}`,n.innerHTML=`
			<div class="upgrade-image">
				<img height="64" width="64" src="assets/images/upgrade-${a}.png" />
				<div class="upgrade-owned">0</div>
			</div>
			<div class="upgrade-info">
				<div class="upgrade-title">${s}</div>
				<div class="upgrade-description">${t}</div>
			</div>
			<div class="upgrade-cost">${e}</div>
		`,n.addEventListener("pointerdown",()=>{if(A.purchaseUpgrade(a)){const o=Math.random()+.75;b.currentTime=0,b.playbackRate=o,b.play()}}),n}function k(e){A.increment();const t=e.currentTarget,s=R[Math.floor(Math.random()*11)],a=Math.random()*1.5+.5,n=Math.random()*540-270;s.currentTime=0,s.playbackRate=a,s.play(),requestAnimationFrame(()=>{t.style.transform=`rotate(${n}deg)`}),setTimeout(()=>{requestAnimationFrame(()=>{t.style.transform="rotate(0deg)"})},50)}function M(){window.open("oops.html","","alwaysRaised=yes, height=300, menubar=no, resizable=no, status=no, titlebar=no, toolbar=no, width=300")}function I(){const e=document.createElement("img");e.src="assets/images/360.gif",e.style.position="absolute",e.style.zIndex="10000",e.style.inset="0",e.style.height=`${Math.random()*100}%`,e.style.width=`${Math.random()*100}%`,e.style.left=`${Math.random()*100}%`,e.style.top=`${Math.random()*100}%`,document.body.append(e)}function q(){M(),I(),setInterval(I,250)}function H(){new Audio("assets/sound/special.mp3").play()}function x(e){switch(e.key){case"Control":case"Alt":case"Delete":case"Shift":case"Tab":case" ":case"w":case"W":M();break;case"F4":case"Escape":M(),confirm("MMMmmmmm mmm000000oo oOOOO");break}}export{F as S,D as T,L as U,x as a,H as b,P as c,k as d,A as g,U as m,M as o,q as t};
